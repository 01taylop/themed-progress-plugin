import chalk from 'chalk'

import { getProgressConfig } from '../src/config'

jest.mock('chalk', () => ({
  bgWhite: jest.fn().mockImplementation(text => text),
  green: jest.fn().mockImplementation(text => text),
}))

describe('getProgressConfig', () => {

  test.each([
    ['2000-01-01', ['ðŸŽ‰', 'â¬œï¸', 20]],
    ['2000-01-02', ['\u2588', ' ', 40]],
    ['2025-01-29', ['ðŸ', 'â¬œï¸', 20]],
    ['2000-02-14', ['ðŸŒ¹', 'ðŸ¥€', 20]],
    ['2025-03-04', ['ðŸ¥ž', 'ðŸ½ï¸', 20]],
    ['2000-03-14', ['ðŸ¥§', 'ðŸ½ï¸', 20]],
    ['2000-03-17', ['ðŸ€', 'â¬œï¸', 20]],
    ['2000-04-01', ['ðŸƒ', 'â¬œï¸', 20]],
    ['2025-04-10', ['ðŸ£', 'ðŸ¥š', 20]],
    ['2025-04-20', ['ðŸ£', 'ðŸ¥š', 20]],
    ['2000-04-22', ['ðŸŒŽ', 'â¬œï¸', 20]],
    ['2000-05-04', ['â­ï¸', 'â¬œï¸', 20]],
    ['2000-05-20', ['ðŸ', 'â¬œï¸', 20]],
    ['2000-05-30', ['ðŸ¥”', 'â¬œï¸', 20]],
    ['2000-06-03', ['ðŸš²', 'â¬œï¸', 20]],
    ['2000-06-05', ['ðŸŒ³', 'â¬œï¸', 20]],
    ['2000-06-08', ['ðŸŒŠ', 'â¬œï¸', 20]],
    ['2000-06-19', ['â˜€ï¸', 'â˜ï¸', 20]],
    ['2000-06-23', ['â˜€ï¸', 'â˜ï¸', 20]],
    ['2000-07-04', ['ðŸŽ†', 'â¬œï¸', 20]],
    ['2000-07-20', ['ðŸŒ', 'ðŸŒš', 20]],
    ['2024-07-01', ['ðŸŽ¾', 'â¬œï¸', 20]],
    ['2024-07-14', ['ðŸŽ¾', 'â¬œï¸', 20]],
    ['2000-09-05', ['ðŸ’–', 'ðŸ¤', 20]],
    ['2000-09-21', ['â˜®ï¸', 'â¬œï¸', 20]],
    ['2000-10-01', ['â˜•ï¸', 'â¬œï¸', 20]],
    ['2000-10-24', ['ðŸŽƒ', 'ðŸ¦‡', 20]],
    ['2000-10-31', ['ðŸŽƒ', 'ðŸ¦‡', 20]],
    ['2024-11-28', ['ðŸ¦ƒ', 'ðŸ‚', 20]],
    ['2000-12-01', ['â›„ï¸', 'ðŸ§Š', 20]],
    ['2000-12-31', ['â›„ï¸', 'ðŸ§Š', 20]],
  ])('returns the correct configuration for %s', (date, expectedResult) => {
    jest.useFakeTimers().setSystemTime(new Date(date))

    const config = getProgressConfig()

    expect(config).toEqual(expectedResult)
  })

})
